(self.webpackChunkextension_kitchensink=self.webpackChunkextension_kitchensink||[]).push([["coresdk_functions"],{69993:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});var r=n(48926),a=n.n(r),o=n(18446),c=n.n(o),l=n(67294),i=n(40114),s=n(71272),u=n(55393),m=n(19407),d=n(38287);const h=()=>{var[e,t]=(0,l.useState)(),n=(0,i.TH)(),[r,o]=(0,l.useState)({}),[h,f]=(0,l.useState)(""),k=(0,m.getCoreSDK2)();(0,l.useEffect)((()=>{if(n.search||n.pathname.includes("?")){var e="".concat(n.pathname).concat(n.search);r.route===e&&c()(r.routeState,n.state)||(o({route:e,routeState:n.state}),g("location: ".concat(n.pathname).concat(n.search," ").concat(JSON.stringify(n.state))))}}),[n]);var g=(e,t)=>{f((n=>{var r=0===n.length?"":"\n",a=t?"".concat(e,"\n").concat(t):e;return"".concat(n).concat(r).concat(a)}))},p=function(){var e=a()((function*(){try{(yield k.ok(k.all_connections())).forEach((e=>{g(e.name||"")}))}catch(e){g("Error getting connections",e)}}));return function(){return e.apply(this,arguments)}}(),v=function(){var e=a()((function*(){try{var e=yield k.ok(k.all_looks("id"));if(e.length>0){var n=yield k.ok(k.run_look({look_id:e[0].id,result_format:"png"}));n instanceof Blob?t(URL.createObjectURL(n)):t(btoa("data:image/png;base64,".concat(n))),g("Got image")}else g("No looks to render")}catch(e){g("Error getting connections",e)}}));return function(){return e.apply(this,arguments)}}(),y=function(){var e=a()((function*(){try{var e=yield k.ok(k.search_folders({parent_id:"1"}));g(JSON.stringify(e,null,2))}catch(e){g("Error invoking search folders",e)}}));return function(){return e.apply(this,arguments)}}(),E=function(){var e=a()((function*(){try{var e=yield k.ok(k.run_inline_query({result_format:"json_detail",limit:10,body:{total:!0,model:"thelook",view:"users",fields:["last_name","gender"],sorts:["last_name desc"]}}));g(JSON.stringify(e,null,2))}catch(e){g("Error invoking inline query",e)}}));return function(){return e.apply(this,arguments)}}();return l.createElement(l.Fragment,null,l.createElement(s.Heading,{mt:"xlarge"},"Core SDK Functions"),l.createElement(d.p,null),l.createElement(s.Box,{display:"flex",flexDirection:"row"},l.createElement(s.Box,{display:"flex",flexDirection:"column",width:"50%",maxWidth:"40vw"},l.createElement(u.I,{mt:"small",onClick:p},"All connections (get method)"),l.createElement(u.I,{mt:"small",onClick:y},"Search folders (get method with parameters)"),l.createElement(u.I,{mt:"small",onClick:E},"Inline query (post method)"),l.createElement(u.I,{mt:"small",onClick:v},"Render Look image"),e&&l.createElement("img",{src:e}),l.createElement(u.I,{mt:"small",onClick:()=>{f(""),t(void 0)}},"Clear messages")),l.createElement(s.Box,{width:"50%",p:"small",maxWidth:"40vw"},l.createElement(s.TextArea,{height:"60vh",readOnly:!0,value:h}))))}},38287:(e,t,n)=>{"use strict";n.d(t,{p:()=>o});var r=n(67294),a=n(71272),o=()=>{var[e,t]=(0,r.useState)("");return(0,r.useEffect)((()=>{try{var e;null===(e=window.parent.looker)||void 0===e||e.version,t("NOT")}catch(e){t("")}}),[]),r.createElement(a.Paragraph,{my:"medium"},"This extension is ",r.createElement("b",null,e)," sandboxed.")}}}]);
//# sourceMappingURL=coresdk_functions.bundle.js.map